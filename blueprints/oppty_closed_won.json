{
  "name": "oppty_closed_won",
  "label": "Opportunity Closed Won",
  "actionName": "UpdateOpportunityStage",
  "tags": ["sales", "Opportunity", "Stage", "ClosedWon"],
  "operation": "UPDATE",
  "targetSObject": "Opportunity",
  "checkpoint": "Set opportunity to Closed Won with optional CloseDate.",
  "summary": "Updated Opportunity stage to Closed Won.",
  "keyFields": ["Id"],
  "inputs": {
    "Id": {"type": "Id", "required": true},
    "StageName": {"type": "Picklist", "required": true, "enum": ["Closed Won"]},
    "CloseDate": {"type": "Date", "required": false}
  },
  "guardrails": {
    "fls": {"fields": ["StageName", "CloseDate"], "requireUpdateable": true},
    "sharing": "WITH_SHARING"
  }
}
